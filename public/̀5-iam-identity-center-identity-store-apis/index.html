<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.147.8">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>IAM Identity Center Identity Store APIs :: AWS SINGLE SIGN-ON FOR ORGANIZATION</title>

    
    <link href="/css/nucleus.css?1759648597" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1759648597" rel="stylesheet">
    <link href="/css/hybrid.css?1759648597" rel="stylesheet">
    <link href="/css/featherlight.min.css?1759648597" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1759648597" rel="stylesheet">
    <link href="/css/auto-complete.css?1759648597" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1759648597" rel="stylesheet">
    <link href="/css/theme.css?1759648597" rel="stylesheet">
    <link href="/css/hugo-theme.css?1759648597" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1759648597" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1759648597"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/%CC%805-iam-identity-center-identity-store-apis/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1759648597"></script>
<script type="text/javascript" src="/js/auto-complete.js?1759648597"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1759648597"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-prerequisite/" title="Preparation steps" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisite/">
          <b>1. </b>Preparation steps
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisite/1-create-aws-account/" title="Create AWS Account in AWS Organizations" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisite/1-create-aws-account/">
          <b>1.1 </b>Create AWS Account in AWS Organizations
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisite/2-configure-ou/" title="Prerequisites for IAM Identity Center" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisite/2-configure-ou/">
          <b>1.2 </b>Prerequisites for IAM Identity Center
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisite/3-invite-aws-account/" title="Create Users and Groups in IAM Identity Center" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisite/3-invite-aws-account/">
          <b>1.3 </b>Create Users and Groups in IAM Identity Center
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisite/4-switch-role/" title="Create Permission Sets" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisite/4-switch-role/">
          <b>1.4 </b>Create Permission Sets
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisite/5-provision-permission-sets/" title="Provision Permission Sets" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisite/5-provision-permission-sets/">
          <b>1.5 </b>Provision Permission Sets
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-prerequisite/6-test/" title="Verify Access Permissions" class="dd-item 
        
        
        
        ">
      <a href="/1-prerequisite/6-test/">
          <b> 1.6 </b>Verify Access Permissions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-aws-cli-access/" title="AWS CLI" class="dd-item 
        
        
        
        ">
      <a href="/2-aws-cli-access/">
          <b> 2. </b>AWS CLI
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-aws-cli-access/2.1-manual/" title="Manually Refresh Credentials" class="dd-item 
        
        
        
        ">
      <a href="/2-aws-cli-access/2.1-manual/">
          <b> 2.1 </b>Manually Refresh Credentials
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-aws-cli-access/2.2-automatic/" title="Automatic Credential Refresh" class="dd-item 
        
        
        
        ">
      <a href="/2-aws-cli-access/2.2-automatic/">
          <b> 2.2 </b>Automatic Credential Refresh
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-using-time-based-access-control/" title="Time-based access control" class="dd-item 
        
        
        
        ">
      <a href="/3-using-time-based-access-control/">
          <b> 3. </b>Time-based access control
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-using-customer-managed-policies/" title="Customer Managed Policies" class="dd-item 
        
        
        
        ">
      <a href="/4-using-customer-managed-policies/">
          <b> 4. </b>Customer Managed Policies
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/%CC%805-iam-identity-center-identity-store-apis/" title="IAM Identity Center Identity Store APIs" class="dd-item 
        
        active
        
        ">
      <a href="/%CC%805-iam-identity-center-identity-store-apis/">
          <b> 5. </b>IAM Identity Center Identity Store APIs
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6-clean-up/" title="Resource Cleanup" class="dd-item 
        
        
        
        ">
      <a href="/6-clean-up/">
          <b> 6. </b>Resource Cleanup
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://aws.amazon.com/blogs"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/%CC%805-iam-identity-center-identity-store-apis/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="//localhost:1313/vi/%CC%805-iam-identity-center-identity-store-apis/">Ti·∫øng Vi·ªát</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7831772&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>26-04-2025</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
            <i> <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia H∆∞ng </a> <br>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>Using AWS IAM Identity Center for Robust Identity Management</a> > IAM Identity Center Identity Store APIs
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#required-parameters">Required parameters</a></li>
    <li><a href="#optional-parameters">Optional parameters</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              IAM Identity Center Identity Store APIs
            </h1>
          

        



	<h4 id="overview">Overview</h4>
<p>This guide explains how to manage and audit AWS IAM Identity Center users and groups at scale using Identity Store APIs. These APIs allow you to automate processes for:</p>
<ul>
<li>Provisioning and deprovisioning users and groups</li>
<li>Adding new members to groups or removing them</li>
<li>Querying information about users and groups in IAM Identity Center</li>
<li>Updating information about these users and groups</li>
<li>Determining which users are members of which groups</li>
</ul>
<h4 id="prerequisites">Prerequisites</h4>
<p>Before starting, you should have the following prerequisites:</p>
<ul>
<li>An Organization in AWS Organizations</li>
<li>Administrative access to AWS IAM Identity Center</li>
<li>Python version 3.10.5 or later</li>
<li>AWS CLI</li>
<li>AWS SDK for Python (Boto3)</li>
<li>Git</li>
</ul>
<h4 id="environment-setup">Environment Setup</h4>
<p>Clone the repository:</p>
<pre tabindex="0"><code>git clone https://github.com/aws-samples/iam-identitycenter-identitystoreapi-operations
</code></pre><p>This repository contains the sample script <code>identitystore_operations.py</code> that will be used to perform identity store operations. The script utilizes Python SDKs. You can refer to the boto3 documentation for identity store operations.</p>
<p><strong>‚ÑπÔ∏è Information</strong>: The Identity Store APIs enable programmatic management of users and groups in IAM Identity Center, supporting large-scale identity management automation.</p>
<h4 id="example-creating-a-group">Example: Creating a Group</h4>
<p>Here&rsquo;s an example of using the <code>create_group</code> method to create a group in Identity Store using the Python SDK:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>response <span style="color:#f92672">=</span> client<span style="color:#f92672">.</span>create_group(
</span></span><span style="display:flex;"><span>    IdentityStoreId<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;string&#39;</span>,
</span></span><span style="display:flex;"><span>    DisplayName<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;string&#39;</span>,
</span></span><span style="display:flex;"><span>    Description<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;string&#39;</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>The <code>create_group</code> method accepts the following parameters:</p>
<p>Parameters:</p>
<ul>
<li><strong>IdentityStoreId</strong> (string) &ndash; [REQUIRED] The globally unique identifier for the identity store.</li>
<li><strong>DisplayName</strong> (string) &ndash; A string containing the name of the group. This value is typically displayed when the group is referenced.</li>
<li><strong>Description</strong> (string) &ndash; A string containing the description of the group.</li>
</ul>
<p><strong>üí° Pro Tip</strong>: Always refer to the boto3 documentation for detailed information about request syntax, response syntax, and exceptions for API operations.</p>
<h4 id="test-setup">Test Setup</h4>
<p>In this step, you&rsquo;ll run the Python script <code>identitystore_operations.py</code> and view all the supported options available in the script.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>If you&rsquo;re not using the default profile, make sure to configure your shell session with environment variables before running the script.</p></blockquote>
<pre tabindex="0"><code>python identitystore_operations.py ‚Äîh
</code></pre><p>You should see output like the following:</p>
<p><strong>Sample Output:</strong></p>
<pre tabindex="0"><code>usage: identitystore_operations.py [-h]
                                   {create_user,create_group,adduser_to_group,delete_group,list_members,list_membership}
                                   ...
positional arguments:
  {create_user,create_group,adduser_to_group,delete_group,list_members,list_membership}

options:
  -h, --help            show this help message and exit
</code></pre><p>As you can see from the output above, this script supports multiple IdentityStore operations such as Create_user, Create_group, delete_group, List_members, etc.</p>
<h4 id="use-case-prerequisites">Use Case Prerequisites</h4>
<p>In this section, you&rsquo;ll use the Python script to create two SSO groups (AWS_Data_Science &amp; AWS_Applied_Scientists) that will be used in subsequent steps.</p>
<p>You&rsquo;ll need the Identity Store ID to proceed with the remaining steps.</p>
<ol>
<li>Sign in to your AWS account.</li>
<li>Navigate to AWS IAM Identity Center settings</li>
<li>Copy the Identity store id from the identity store tab. This will be used in the next step.</li>
</ol>
<p>Run the following command to create the AWS_Data_Science group:</p>
<pre tabindex="0"><code>python identitystore_operations.py create_group --identitystoreid d-123456a7890 --groupname AWS_Data_Science --description &#34;My Data Science group&#34;
</code></pre><blockquote>
<p><strong>Note</strong></p>
<p>Replace the identitystoreid value &ldquo;d-123456a7890&rdquo; with your IdentityStore Id.</p></blockquote>
<p>You should see output like the following:</p>
<p><strong>Sample Output:</strong></p>
<pre tabindex="0"><code>Group:AWS_Data_Science with GroupId:94482488-3041-7026-18f3-be45837cd0e4 created successfully
</code></pre><p>Similarly, run the following command to create the AWS_Applied_Scientists group:</p>
<pre tabindex="0"><code>python identitystore_operations.py create_group --identitystoreid d-123456a7890 --groupname AWS_Applied_Scientists --description &#34;Applied Scientist group&#34;
</code></pre><blockquote>
<p><strong>Note</strong></p>
<p>Replace the identitystoreid value &ldquo;d-123456a7890&rdquo; with your IdentityStore Id.</p></blockquote>
<p>You should see output like the following:</p>
<p><strong>Sample Output:</strong></p>
<pre tabindex="0"><code>Group:AWS_Applied_Scientists with GroupId:94482488-3041-7026-18f3-be45837cd0e4 created successfully
</code></pre><p><strong>‚ö†Ô∏è Warning</strong>: Always verify the Identity Store ID from your AWS IAM Identity Center console before running API operations. Using an incorrect ID will result in errors.</p>
<h4 id="aws-iam-identity-center-user-and-group-api-operations">AWS IAM Identity Center User and Group API Operations</h4>
<p>In this section, you&rsquo;ll use the Python script to create users and update users&rsquo; group memberships.</p>
<h4 id="create-user-and-add-to-a-group">Create User and Add to a Group</h4>
<p>In this step, you&rsquo;ll create a user and add the newly created user to an existing group. You can check the Python code of the create_user function (lines # 9 to # 77) in the identitystore_operations.py Python script for details. This function calls the create_user and create_group_membership APIs for this operation. The Request syntax, Response syntax, and exceptions for these API operations can be found in the boto3 documentation.</p>
<p>This function creates a user and adds the user to a group if the group exists.</p>
<p>If the group doesn&rsquo;t exist, this function will just create the user and skip adding the user to the group.</p>
<h2 id="required-parameters">Required parameters</h2>
<p>&ndash;identitystoreid - Identity Store Id of the SSO configuration
&ndash;username  - User Name for the user
&ndash;givenname - First Name for the user
&ndash;familyname - Last Name for the user</p>
<h2 id="optional-parameters">Optional parameters</h2>
<p>&ndash;groupname - Name of the SSO group</p>
<p>Here&rsquo;s an example of how you can create a new user &ldquo;John Doe&rdquo; in the IAM Identity Center&rsquo;s identity store and add the user to the existing &ldquo;AWS_Data_Science&rdquo; group.</p>
<pre tabindex="0"><code>python identitystore_operations.py create_user --identitystoreid d-123456a7890 --username johndoe --givenname John --familyname Doe --groupname AWS_Data_Science
</code></pre><blockquote>
<p><strong>Note</strong></p>
<p>Replace the identitystoreid value &ldquo;d-123456a7890&rdquo; with your IdentityStore Id.</p></blockquote>
<p>You should see output like the following:</p>
<p><strong>Sample Output:</strong></p>
<pre tabindex="0"><code>User:johndoe with UserId:94482488-3041-7026-18f3-be45837cd0e4 created successfully
User:johndoe added to Group:AWS_Data_Science successfully
</code></pre><p><strong>üîí Security Note</strong>: Always follow the principle of least privilege when assigning users to groups in IAM Identity Center. Only grant access that&rsquo;s necessary for users to perform their job functions.</p>
<h4 id="update-users-group-membership">Update User&rsquo;s Group Membership</h4>
<p>Now, suppose the data specialist transitions to an applied scientist role and needs access to additional AWS applications and resources. Previously, you would have had to manually update their information and add them to the &ldquo;AWS_Applied_Scientists&rdquo; group so they have the right access. Now, your automation can update the user and provide them the access they need. Refer to the Python code of the adduser_to_group function (lines #108 to #154) in the Python script for details. This function calls the get_group_id, get_user_id, and create_group_membership APIs for this operation. The Request syntax, Response syntax, and exceptions for these API operations can be found in the boto3 documentation.</p>
<p>Here&rsquo;s an example of how the previously created user &ldquo;John Doe&rdquo; can be added to the &ldquo;AWS_Applied_Scientists&rdquo; group:</p>
<pre tabindex="0"><code>python identitystore_operations.py adduser_to_group --identitystoreid d-123456a7890 --groupname AWS_Applied_Scientists --username johndoe
</code></pre><blockquote>
<p><strong>Note</strong></p>
<p>Replace the identitystoreid value &ldquo;d-123456a7890&rdquo; with your IdentityStore Id.</p></blockquote>
<p>You should see output like the following:</p>
<p><strong>Sample Output:</strong></p>
<pre tabindex="0"><code>User:johndoe added to Group:AWS_Applied_Scientists successfully
</code></pre><p><strong>üí° Pro Tip</strong>: Use automation for group membership management to ensure consistency and reduce human error, especially in environments with high user turnover or role changes.</p>
<h4 id="aws-iam-identity-center-user-and-group-audit-operations">AWS IAM Identity Center User and Group Audit Operations</h4>
<p>In this section, you&rsquo;ll use the Python script to audit user and group memberships.</p>
<h4 id="find-members-of-a-specific-group">Find Members of a Specific Group</h4>
<p>Here&rsquo;s an example of how you can find all members of the &ldquo;AWS_Applied_Scientists&rdquo; group. Refer to the list_members function in the Python code (#199 to #232) in the script for details. This function calls the get_group_id and list_group_memberships APIs for this operation. The Response syntax and exceptions for these API operations can be found in the boto3 documentation.</p>
<pre tabindex="0"><code>python identitystore_operations.py list_members --identitystoreid d-123456a7890 --groupname AWS_Applied_Scientists 
</code></pre><blockquote>
<p><strong>Note</strong></p>
<p>Replace the identitystoreid value &ldquo;d-123456a7890&rdquo; with your IdentityStore Id.</p></blockquote>
<p>You should see output like the following:</p>
<p><strong>Sample Output:</strong></p>
<pre tabindex="0"><code>UserName:johndoe,Display Name: John Doe 
</code></pre><h4 id="find-users-group-membership">Find User&rsquo;s Group Membership</h4>
<p>Here&rsquo;s an example of how you can find the group membership of a specific user &ldquo;johndoe&rdquo;. Refer to the list_membership function in the Python code (#235 to #276) in the script for details. This function makes API calls to get_user_id, list_group_memberships_for_member &amp; describe_group for this operation. The Response syntax and exceptions for these API operations can be found in the boto3 documentation.</p>
<pre tabindex="0"><code>python identitystore_operations.py list_membership --identitystoreid d-123456a7890 --username johndoe
</code></pre><blockquote>
<p><strong>Note</strong></p>
<p>Replace the identitystoreid value &ldquo;d-123456a7890&rdquo; with your IdentityStore Id.</p></blockquote>
<p>You should see output like the following:</p>
<p><strong>Sample Output:</strong></p>
<pre tabindex="0"><code>User :johndoe is a member of the following groups
AWS_Data_Science
AWS_Applied_Scientists
</code></pre><p><strong>‚ÑπÔ∏è Information</strong>: Regular auditing of group memberships is an essential security practice. Use these commands to create automated reports and verify that users have appropriate permissions.</p>
<p><strong>üîí Security Note</strong>: Implement a routine audit process to regularly review group memberships, especially for groups with elevated permissions. This helps maintain the principle of least privilege and ensures compliance with security policies.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/4-using-customer-managed-policies/" title="Customer Managed Policies"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/6-clean-up/" title="Resource Cleanup" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1759648597"></script>
    <script src="/js/perfect-scrollbar.min.js?1759648597"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1759648597"></script>
    <script src="/js/jquery.sticky.js?1759648597"></script>
    <script src="/js/featherlight.min.js?1759648597"></script>
    <script src="/js/highlight.pack.js?1759648597"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1759648597"></script>
    <script src="/js/learn.js?1759648597"></script>
    <script src="/js/hugo-learn.js?1759648597"></script>

    <link href="/mermaid/mermaid.css?1759648597" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1759648597"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
