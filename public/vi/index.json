[
{
	"uri": "/vi/2-setup-aws-sso/2.1-enable-sso/",
	"title": "Kích hoạt AWS SSO",
	"tags": [],
	"description": "",
	"content": "Kích hoạt AWS SSO   Đăng nhập vào AWS Management Console bằng thông tin đăng nhập của tài khoản chính của AWS Organization.\n  Mở AWS SSO Console\n  Chọn Enable AWS SSO.\n  Sau khi đăng nhập một lần vào AWS SSO, bạn sẽ có một kho lưu trữ mặc định để lưu trữ Người dùng và Nhóm của mình. Nếu bạn quyết định lưu trữ chúng trong AWS SSO, thì bạn chỉ cần thực hiện các bước sau:\n  Tạo Người dùng và Nhóm.\n  Thêm Người dùng vào Nhóm.\n  Gán Nhóm quyền truy cập mong muốn đối với các tài khoản và ứng dụng AWS.\n  "
},
{
	"uri": "/vi/",
	"title": "AWS Single Sign-On",
	"tags": [],
	"description": "",
	"content": "AWS Single Sign-On cho Organization Trong bài viết này, chúng ta sẽ tìm hiểu về cách sử dụng dịch vụ AWS Single Sign-On (SSO) để quản lý việc truy cập vào các tài khoản AWS trong tổ chức của bạn một cách hiệu quả.\nTổng quan về AWS Single Sign-On (SSO) AWS SSO là một dịch vụ quản lý quyền truy cập được cung cấp bởi Amazon Web Services (AWS). Dịch vụ này cho phép bạn quản lý việc xác thực và ủy quyền người dùng vào các tài khoản AWS một cách thuận tiện. Thay vì phải quản lý nhiều thông tin đăng nhập cho từng tài khoản riêng biệt, bạn có thể sử dụng AWS SSO để tổ chức và kiểm soát việc truy cập này từ một nơi duy nhất.\nCách AWS SSO hoạt động trong AWS Organization Một khía cạnh quan trọng của việc sử dụng AWS SSO là tích hợp nó vào AWS Organization của bạn. AWS Organization cho phép bạn quản lý tập trung các tài khoản AWS của mình trong một cơ cấu có tổ chức. Dưới đây là một số thuật ngữ quan trọng:\n  AWS Organization: Đây là tập hợp các tài khoản AWS được tổ chức lại theo một cách cụ thể, giúp bạn quản lý chúng một cách dễ dàng hơn.\n  Organizational Unit (OU): Một phân đơn vị trong AWS Organization, cho phép bạn nhóm các tài khoản lại với nhau. Mỗi OU có thể chứa nhiều OU con khác.\n  Management Account: Đây là tài khoản quản lý có quyền cao nhất trong AWS Organization. Tài khoản này có thể kiểm soát tất cả các tài khoản khác và chịu trách nhiệm về việc thanh toán chi phí tổng hợp của các tài khoản thành viên.\n  Bước tiếp theo   Chúng ta sẽ tiến hành thực hiện các bước chuẩn bị cần thiết trước khi thiết lập AWS SSO trong môi trường của chúng ta. Hãy tiếp tục đọc bài viết Các bước chuẩn bị để bắt đầu.\n  Nếu bạn đã hoàn thành các bước chuẩn bị, bạn có thể tiếp tục đến phần Thiết lập AWS SSO để làm quen với việc cấu hình dịch vụ AWS SSO.\n  Cuối cùng, sau khi bạn đã thực hiện xong và muốn dọn dẹp tài nguyên, hãy xem phần Kiểm tra kết quả \u0026amp; Dọn dẹp tài nguyên để biết cách làm điều này một cách hiệu quả.\n  Chúc bạn thành công trong việc triển khai AWS SSO cho tổ chức của mình!\n  "
},
{
	"uri": "/vi/1-prerequisite/",
	"title": "Các bước chuẩn bị",
	"tags": [],
	"description": "",
	"content": "Tổng quan Bài thực hành này là một phần của bài thực hành Landing Zone.\nĐể chuẩn bị các tài nguyên cần thiết, bạn sẽ tạo một AWS Organizations, với 4 Organization Units nhằm phân nhóm các tài khoản. Tạo các Tài khoản AWS (AWS Account) với tên: Security, Shared Services, Logging và Application và thêm các Tài khoản vào từng OU tương ứng.\nCác tài khoản được tạo sẽ được phân bố các tài nguyên như sau (Lưu ý: bạn chỉ tham khảo phần này vì nó nằm ngoài phạm vi của bài lab):\n Tài khoản Logging: Là nơi tập trung cho Amazon VPC Flow Logs, CloudTrail logs, Config logs. Tài khoản Security: Tập hợp AWS Config, Amazon GuardDuty master, và các cảnh báo. Tài khoản Network/Shared Services: Chia sẻ chung một VPC dành cho các kết nối từ xa đến các tài khoản khác. AWS Direct Connect chính được cài đặt với AWS Transit Gateway nhằm giao tiếp với các VPC ở các tài khoản khác. Tài khoản dành cho Business Unit: tài khoản cho Analytics-Prod, và Analytics-non-prod.  Nội dung  Tạo AWS Account trong AWS Organization Thiết lập Organization Unit Thêm AWS Account vào AWS Organization Truy cập qua các acc khác trong Organization  "
},
{
	"uri": "/vi/1-prerequisite/1-create-aws-account/",
	"title": "Tạo AWS Account trong AWS Organizations",
	"tags": [],
	"description": "",
	"content": "Tạo AWS Account trong AWS Organization  Truy cập vào AWS Management Console và tìm dịch vụ AWS Organizations trong thanh tìm kiếm.  Tại AWS Organizations Console, chọn Add an AWS account  Chọn Create an AWS account và nhập các thông số dưới đây:  AWS account name: Logging Email address of the account\u0026rsquo;s owner: example+lab12Logging@amazon.com.vn    Để tạo nhiều tài khoản AWS với cùng một email, bạn có thể lấy phần tên email của bạn, thêm dấu \u0026quot;+\u0026quot;, và thêm miêu tả phía sau.\n\r IAM role name: giữ mặc định là OrganizationAccountAccessRole. Đây sẽ là role name mà bạn sẽ dùng để truy cập vào tải khoản AWS thành viên qua phương pháp chuyển đổi role.   Kiếm tra thông tin và chọn Create AWS account\n  Lặp lại các bước trên với các tài khoản Security, Shared Services,và Application, tùy theo mỗi tài khoản cá nhân hay doanh nghiệp bao có thể tạo số lượng tài khoản có giới hạn.\n  Lưu ý: nếu địa chỉ mail mà bạn dùng để tạo AWS Account đã tồn tại, AWS sẽ phản hồi như sau trong mục request:\n Chọn Requests  "
},
{
	"uri": "/vi/2-setup-aws-sso/2.2-add-user-group/",
	"title": "Thêm Users và Groups",
	"tags": [],
	"description": "",
	"content": "Thêm Users và Groups Bạn cần tạo các User và Group như bảng dưới đây. User ở cột User logon name sẽ thuộc các Group ở cột Group.\n   User logon name Group     Super-User AWS-Shared-Services-Admin; AWS-Shared-Services-Read-Only; AWS-Security-Admin; AWS-Security-Read-Only; AWS-Logging-Admin; AWS-Logging-Read-Only;   Security-User AWS-Security-Read-Only    Tạo Group   Hiện tại, bạn chưa có group nào. Hãy chọn Create group để tạo các group được liệt kê ở bảng phía trên.\n  Tại prompt tạo group, bạn nhập tên và mô tả của các group, sau đó nhấn Create.\n  Lặp lại bước này cho các group khác.\n  Thêm User   Mở AWS SSO Console. Trong thanh bên trái, chọn Users.\n Chọn Add user và cung cấp các thông tin cần thiết.    Hoàn thành thông tin sau:\n Username: Tên User này sẽ được yêu cầu để đăng nhập vào cổng thông tin User và không thể thay đổi sau này (VD: Super-User). Password: Chọn một trong các lựa chọn sau để gửi mật khẩu của User.  Send an email to the user with password setup instructions: AWS sẽ tự động gửi email mời User truy cập vào cổng thông tin User AWS SSO. Generate a one-time password that you can share with the user: URL đến cổng thông tin User và mật khẩu sẽ được cung cấp.   *Email address: Nhập email của User. Confirm email address: Nhập lại email của User. Để rõ ràng, hãy sử dụng tiền tố của User logon name làm First name và hậu tố làm Last name. Ví dụ: đối với Super-User, \u0026ldquo;Super\u0026rdquo; sẽ là First name, trong khi \u0026ldquo;User\u0026rdquo; sẽ là Last name Display name.    Chọn Next.\n  Chọn các group và chọn Next.\n  Chọn Add user.\n  Hoàn thành tạo user.\n  Nếu bạn chọn Send an email to this user with password setup instructions, thực hiện xác thực email để đăng nhập.\n  Chọn Send.\n  Thực hiện Verify.\n  Thực hiện cấu hình mật khẩu. Lưu ý: Giữ mật khẩu và trang portal để đăng nhập.\n  "
},
{
	"uri": "/vi/2-setup-aws-sso/",
	"title": "Thiết lập AWS SSO",
	"tags": [],
	"description": "",
	"content": "Cấp Quyền Truy Cập AWS SSO vào Tài Khoản AWS qua AWS Organizations Trong phần này, bạn sẽ cấp quyền truy cập cho người dùng trong danh mục của mình vào hệ thống đăng nhập một lần (Single Sign-On - SSO) vào một hoặc nhiều tài khoản cụ thể trong tổ chức AWS. Sau khi hoàn tất quy trình đăng nhập, người dùng sẽ thấy biểu tượng tương ứng với từng tài khoản AWS mà họ được phân quyền, được hiển thị trong cổng thông tin của người dùng (User portal). Bằng cách nhấp vào biểu tượng tương ứng, người dùng có thể lựa chọn vai trò IAM mà họ muốn sử dụng khi truy cập vào AWS Console cho tài khoản AWS tương ứng.\nNội dung hướng dẫn:  Kích hoạt AWS SSO Thêm Người Dùng và Nhóm Cấu Hình Permission Set Gán Quyền Truy Cập  "
},
{
	"uri": "/vi/1-prerequisite/2-configure-ou/",
	"title": "Thiết lập Organization Unit",
	"tags": [],
	"description": "",
	"content": "Ở bước này, bạn sẽ thực hành thiết lập các Organization Unit (Security, Shared Services, Logging và Application) tương ứng với các tài khoản AWS được tạo ở phần trước. Các OU sẽ nằm bên trong Root - nơi chứa tất cả OU và tài khoản AWS.\nNội dung\n Tạo Organization Unit Di chuyển các tài khoản AWS vào Organization Unit tương ứng  Tạo Organization Unit   Truy cập vào AWS Management Comsole và tìm dịch vụ AWS Organizations trong thanh tìm kiếm.\n  Tick vào Root, chọn Actions, và chọn Create new dưới Organizational Unit\n  Tại trang Create organizational unit in Root:  Dưới mục Details, nhập tên của OU (Ví dụ: Logging Unit)    Kiểm tra thông tin và chọn Create organizational unit  Lặp lại với các Organization Unit còn lại.  Di chuyển các tài khoản AWS vào Organization Unit tương ứng   Truy cập vào AWS Management Comsole và tìm dịch vụ AWS Organizations trong thanh tìm kiếm.\n  Tick vào tài khoản AWS mà bạn muốn di chuyển (Ví dụ: Logging), chọn Actions, và chọn Move dưới AWS Account\n  Tick vào OU phù hợp (Ví dụ: Logging Unit) và chọn Move AWS account  Lặp lại với các tài khoản AWS và Organization Unit còn lại:  Security Account với Security Unit Shared Services với Shared Services Unit Application Account với Application Unit    "
},
{
	"uri": "/vi/3-test-permission/",
	"title": "Kiểm tra ",
	"tags": [],
	"description": "",
	"content": "Truy cập vào Tài khoản AWS trong AWS Organizations qua AWS SSO User Ở phần này, bạn sẽ thử truy cập vào các tài khoản AWS trong AWS Organizations thông qua AWS SSO User. Sau đó, bạn có thể tiến hành dọn dẹp tài nguyên nếu bạn không cần đến chúng nữa.\nKiểm tra kết quả Bạn sẽ thử truy cập vào các tài khoản AWS trong AWS Organizations thông qua AWS SSO User:\n Mở trình duyệt của bạn trong chế độ ẩn danh và truy cập đường dẫn User portal URL bạn đã lưu ở phần trước.  Hoặc, nếu bạn đã lưu trữ User portal URL khi set password:\n Trong User Portal, nhập tên người dùng và mật khẩu đã lưu để đăng nhập.\n  Nếu bạn truy cập vào AWS SSO User lần đầu tiên, bạn sẽ phải thay đổi mật khẩu đầu tiên như bạn đã thiết lập ở phần trước. Nhập mật khẩu mới theo hướng dẫn và chọn Set new password.\n  Bạn sẽ được chọn tài khoản AWS và quyền truy cập đã được thiết lập ở phần trước. Ví dụ: hình dưới thể hiện tài khoản và quyền truy cập mà Security-User có thể sử dụng. Nếu bạn đăng nhập vào Super-User, bạn sẽ có quyền truy cập AdministratorAccess cho mỗi tài khoản.  Chọn Management console để truy cập bảng điều khiển AWS của tài khoản Security.  Chúc mừng, bạn đã truy cập thành công vào tài khoản.  Đối với CLI, bạn có thể chọn Command line or programmatic access. Hiển thị hướng dẫn cấu hình SSO.  Mở cửa sổ dòng lệnh (CMD) hoặc PowerShell theo hệ điều hành để cấu hình.  "
},
{
	"uri": "/vi/2-setup-aws-sso/2.3-create-permissionset/",
	"title": "Tạo Permission Set",
	"tags": [],
	"description": "",
	"content": "Permission Set Permission Set xác định khả năng truy cập mà User và Group có đối với các tài khoản AWS trong AWS Organization. Các bộ quyền được lưu trữ trong AWS SSO và được cung cấp cho tài khoản AWS dưới dạng IAM roles. Bạn có thể gán nhiều quyền cho một User.\n Mở AWS SSO Console.  Chọn AWS accounts ở thanh bên trái. Chọn tab Permission Sets. Chọn Create permission set.    Tại trang Create new permission set:  Chọn Permission set type.    Chọn AdministratorAccess để cung cấp quyền truy cập đầy đủ vào các tài nguyên và dịch vụ AWS.  Nhập AdministratorAccess và chọn Next.  Kiểm tra và chọn Create.  Hoàn thành tạo Permission set.  Lặp lại các bước trên để thiết lập Permission Set với quyền SecurityAudit. Bạn sẽ có kết quả như hình dưới đây.  "
},
{
	"uri": "/vi/1-prerequisite/3-invite-aws-account/",
	"title": "Thêm AWS Account vào AWS Organization",
	"tags": [],
	"description": "",
	"content": "Ở bước 1.1, bạn đã thực hiện tạo AWS Account mới từ dịch vụ AWS Organization! Vậy nếu như bạn đã có một hoặc nhiều AWS Account với các Workload đang chạy \u0026amp; bạn muốn thêm AWS Account đó vào Organization của bạn để dễ dàng phân bổ tài nguyên, nhóm các accounts (như bước 1.2,) và áp dụng các nguyên tắc quản trị -\u0026gt; thì chức năng Invite an existing AWS accoun sẽ hỗ trợ bạn.\n Thêm AWS Account vào Organizations    Truy cập vào AWS Management Comsole và tìm dịch vụ AWS Organizations trong thanh tìm kiếm.\n  Chọn Add an AWS account\n    Chọn mục Invite an existing AWS account\n  Tại mục Email address or account ID of the AWS account to invite, điền địa chỉ mail hoặc Account ID của AWS Account mà bạn muốn thêm vào Organization, ví dụ: fcj@amazon.com.vn hoặc 888800009920\n  Chọn Send invitation\n  Kiểm tra lời mời tham dự vào Organizations   Tại khung bên trái, chọn Invitations, sẽ thấy được Account ID bạn vừa thêm tại bước 1 - đã xuất hiện ở đây với trạng thái OPEN  Chấp nhận lời mời tham dự vào Organizations   Truy cập vào AWS Management Comsole của Account bạn vừa thêm tại bước 1, tìm dịch vụ AWS Organizations trong thanh tìm kiếm   Tại bên phải màn hình, chọn lời mời View 1 invitation Ngoài ra, dịch vụ AWS Organization không bị tính phí  Lưu ý: bạn chỉ có thể nhìn thấy lời mời trên, khi và chỉ khi AWS Account này chưa tham gia vào bất kỳ AWS Organizations\nChọn Accept invitation   Kết quả:   Dù bạn đang ở Dashboard nhưng bạn chỉ thấy được thông tin của Organizations mà bạn đang tham dự, vì bạn đang là thành viên (member account)  Kiểm tra AWS Organizations   Quay trở lại AWS Account ở bước 1, kiểm tra xem Account vừa được thêm tại bước 4 đã tham gia vào Organizations hay chưa    Tại đây, bạn có thể nhìn thấy toàn bộ cấu trúc của Organizations bao gồm các Organization Unit với các member account \u0026amp; management account.\n  Với management account sẽ là acc chính để quản lý và truy cập vào các member account thông qua chức năng switch role\n  Chúc mừng, AWS Account đã được thêm vào với thông tin chi tiết về ngày tham gia\n"
},
{
	"uri": "/vi/2-setup-aws-sso/2.4-add-permission/",
	"title": "Gán quyền",
	"tags": [],
	"description": "",
	"content": "Gán Quyền Truy Cập cho Người Dùng và Nhóm Để thiết lập các tài khoản AWS cho các nhóm SSO với các chức năng công việc như sau:\n   Tài Khoản Nhóm Chính Sách Công Việc     Management Account, shared-services, logging, security AWS-Shared-Services-Admin; AWS-Security-Admin; AWS-Logging-Admin AdministratorAccess   Management Account, shared-services, logging, security AWS-Shared-Services-Read-Only; AWS-Security-Read-Only; AWS-Logging-Read-Only SecurityAudit      Mở AWS SSO Console. Chọn AWS accounts ở thanh bên trái.\nTrong tab AWS organization, trong danh sách tài khoản AWS, chọn một hoặc nhiều tài khoản mà bạn muốn chỉ định quyền truy cập. (Ví dụ: Management Account, shared-services, logging, và security). Sau đó, chọn Assign users or groups\n  Chọn các nhóm và chọn Next\n  Chọn Permission set\n  Chọn Submit\n  Tương tự, đối với tài khoản Security Account\n  Chọn các nhóm và chọn Next\n  Chọn Permission set và chọn Next\n  Chọn Submit\n  Chúc mừng, bạn đã thiết lập AWS SSO thành công.\n  "
},
{
	"uri": "/vi/1-prerequisite/4-switch-role/",
	"title": "Truy cập qua các AWS Account khác trong Organization",
	"tags": [],
	"description": "",
	"content": "Ở bước này, bạn sẽ đứng tại management account để truy cập vào các member account thông qua chức năng switch role\nNội dung\n switch role vào các member account được tạo bởi AWS Organization (bước 1.1) switch role vào các member account được mời tham gia AWS Organization (bước 1.3)  A) Switch role vào các member account được tạo bởi AWS Organization   Đăng nhập vào management account\n Dùng IAM User để đăng nhập Truy cập vào AWS Management Console và tìm dịch vụ AWS Organizations trong thanh tìm kiếm. Sao chép Account ID (Có 12 con số \u0026amp; xuất hiện phía dưới tên của Account) mà bạn muốn truy cập Ở gốc bên phải, phía sau tên của Account, chọn dấu tam giác, Chọn Switch role    Lưu ý, nếu bạn đang dùng account root, bạn sẽ không thể nhìn thấy chức năng Switch role\n  Nếu bạn chưa thành thạo việc tạo IAM User (có quyền Admin) để phục vụ cho bài lab này, vui lòng xem lại bài: Quản trị quyền truy cập với AWS Identity and Access Management (AWS IAM)\n    Switch role\n Tại mục Account, dán Account ID mà bạn đã sao chép ở bước 1, vd: 999999999943 Tại mục Role, điền role name bạn đã dùng trong lúc tạo Account (tại bước 1.1), vd: OrganizationAccountAccessRole (đây là role name được khuyến nghị bởi AWS) Tại mục Display Name, dù đây không phải thông tin bắt buộc, nhưng khuyến khích bạn đặt tên để dễ dàng nhận biết \u0026amp; tránh việc truy cập vào nhầm môi trường! Trong thật tế sẽ có nhiều Account được switch. Vd: FCJ-DEV Tại mục color: hãy chọn màu mà bạn thích Chọn Switch Role  lưu ý: nếu bạn cần thay đổi Display Name, chỉ cần làm lại bước 2 và thêm tên mà bạn muốn\n Kết quả:  Chúc mừng bạn đã Switch Role thành công!\n Kiểm tra xem bạn có quyền trên các dịch vụ phổ thông hay chưa    Giải thích:   Bạn có thể truy cập dễ dàng vào member account được tạo từ AWS Organizations \u0026amp; có đầy đủ quyền admin vì:\n IAM User bạn dùng trong bước 1 có quyền admin. Trong lúc khởi tạo account mới bằng AWS Organizations, với sự chấp thuận của bạn - AWS đã tự động thêm quyền admin: AdministratorAccess vào role OrganizationAccountAccessRole. Đối chiếu:    Bạn đang đứng tại member accouunt với Display name: FCJ-Dev, trong khung tìm kiếm, gõ và chọn dịch vụ IAM\n  Bên phải, chọn Roles\n  Chọn Role name: OrganizationAccountAccessRole\n  Bạn sẽ thấy quyền admin: AdministratorAccess với phần diễn giải Provides full access to AWS services and resources\n  Mở rộng: Khi bạn đã làm theo bài: Quản trị quyền truy cập với AWS Identity and Access Management (AWS IAM) để tạo IAM User đăng nhập vào management account thì bạn cấp quyền admin: AdministratorAccess để thực hiện việc switch role, tức bạn không cần thêm quyền assume role (link giải thích) vì quyền admin đã bao hàm luôn quyền này.\nNhưng trong thật tế để đảm bảo tính least privilege cho việc cấp phát quyền tối thiểu, với vai trò quản trị viên, bạn chỉ nên cấp quyền assume role cho user được switch qua account - đại diện cho môi trường mà team cần.\nVí dụ: AWS Organizations của bạn có 4 account chạy workload tương ứng cho 3 môi trường: Dev, Test, Production và acc thứ 4 là management account (được AWS khuyến nghị: không nên chạy bất kỳ Workload nào, chỉ dành cho việc consolidated billing)! Vì tính chất công việc, DevLead cần duy chuyển qua lại giữa 2 môi trường Dev, Test mà không cần đăng nhập bằng User Name, Password vào 2 tài khoản AWS!\nThì lúc này, việc switch role để di chuyển giữa 2 môi trường sẽ rất nhanh chóng và tiện lợi. Vậy với vai trò quản trị viên - bạn sẽ cấp cho DevLead một IAM User truy cập vào management account chỉ có quyền assume role của 2 môi trường Dev, Test để thực hiện việc switch nhưng không có bất kỳ quyền gì khác trên môi trường Production.\nThực hành: Tạo User Groups    Đứng tại management account thực hiện lại mục 2.1 trong bài Quản trị quyền truy cập với IAM\n  Tại bước 4, User Group Name nhập tên Group (Ví dụ: DevGroup)\n  Chọn Create policy, một cửa sổ mới xuất hiện\n  Tạo Customer managed Policy    Choose a service: gõ STS -\u0026gt; tại bên trái, chọn STS\n STS là Security Token Service: là web service cho phép người dùng gửi request tạm thời và cấp quyền một cách giới hạn cho IAM user. Token có hiệu lực mặc định là 1 giờ    Actions -\u0026gt; Select actions -\u0026gt; gõ AssumeRole -\u0026gt; tại chính giữa, chọn AssumeRole\n  Resources -\u0026gt; Specific -\u0026gt; Add ARN\n Account *: điền member Account ID (tức ID mà bạn đã sao chép ở bước 1 phía trên) (vd: 999999999943) Role name with path *: điền role name tại bước 1.1 (vd: OrganizationAccountAccessRole) Chọn Add    Chọn Next: Tags\n  Chọn Next: Review\n  Name* : điền policy name (vd:switch_role_999999999943)\n  Chọn Create policy\n  Gắn policy vừa tạo vào User Groups    Quay lại trang Create user group\n  Tại mục Attach permissions policies - Optional, chọn biểu tượng refresh\n  Tại khung tìm kiếm, nhập: switch_role_999999999943\n  Tích vào ô vuông\n  Chọn Create Group\n  Tạo User    Thực hiện lại mục 2.2 trong bài Quản trị quyền truy cập với IAM\n  Tại bước 2, User name nhập: DevLead,\n  Tại bước 3, chọn DevGroup\n  Hoàn thành các bước còn lại và kiểm tra IAM User vừa được tạo\n  -\u0026gt; Vậy IAM User: DevLead đã được tạo \u0026amp; có policy name: switch_role_999999999943 được gắn thông qua nhóm: DevGroup\nLưu ý: Bạn thấy rằng trong giao diện Users hay User Groups, đều có chức năng cho phép bạn gán quyền (Add permissions), nhưng theo best practice:\n Bạn chỉ nên gán quyền vào User Groups Rồi thêm User vào trong Group, lúc đó User sẽ tự động có đầy đủ các quyền mà bạn đã trao cho Groups  -\u0026gt; Điều này giúp bạn dễ dàng quản lý quyền ở mức tập trung theo nhóm, tránh việc cấp quyền theo user và khó khăn trong việc quản lý vì phải vào từng user để xem chính sách quyền nào mà ta đã từng trao.\n Đăng nhập vào IAM User vừa được tạo\nKết quả:\n  Thực hiện switch role qua member account\n  lưu ý: bạn vừa đăng nhập vào IAM User nhưng vẫn thuộc management account, bây giờ bạn bắt đầu thực hiện switch role qua member account.\n  Thực hiện lại bước 2 phía trên\n  Chúc mừng bạn đã switch role qua member account (ID: 999999999943) với IAM User DevLead\nBạn có thể dùng chức năng Create an AWS account để tạo ra acc cho môi trường test và làm lại từ bước 3 đến bước 8 để switch role qua môi trường Test với ID Account tương ứng\nB) Switch role vào các member account được mời tham gia AWS Organization Khi xem lại các mục:\n 1.1 Tạo AWS Account trong AWS Organizations 1.3 Thêm AWS Account vào AWS Organization  -\u0026gt; Bạn sẽ thấy chức năng tạo AWS Account trong AWS Organizations (Create an AWS account) có sẵn phần tạo IAM role để management account dùng cho việc truy cập resources vào member account bằng cách Switch role\n-\u0026gt; Nhưng điều trên hoàn toàn không có trong chức năng thêm AWS Account vào AWS Organization (Invite an existing AWS account), vậy bạn cần thêm IAM Role cho AWS Account đã được mời.\n Tạo Role có quyền admin    Dùng member account mà bạn đã tham gia vào AWS Organizations trong mục [1.3]\n  Truy cập vào AWS Management Comsole và tìm dịch vụ IAM trong thanh tìm kiếm, chọn Roles, chọn Create role\n  Chọn AWS account\n  Chọn Another AWS account\n  Điền Account ID của management account vào khung, vd: 999999999963\n  Chọn Next\n  Tại mục Permissions policies, nhập: AdministratorAccess, nhấn enter\n  Tích vào ô vuông AdministratorAccess\n  chọn Next\n  Role name: nhập OrganizationAccountAccessRole\n  Kéo xuống cuối trang, chọn Create role\n  Kiểm tra role vừa tạo, sao chép Account ID member account (ID: 888800009920) bằng cách nhấn vào hình vuông\n  Thực hiện switch role    Đăng nhập vào management account (như bước 1 và 2 trong phần A)\n  Sổ dấu tam giác phía trên cùng bên tay trái - cạnh acc name, chọn Switch role\n  Tại mục Account, dán Account ID mà bạn đã sao chép ở bước 1, vd: 888800009920\n  Tại mục Role, điền role name bạn đã dùng trong lúc tạo Account (tạo bước 1), vd: OrganizationAccountAccessRole\n  Tại mục Display Name, dù đây không phải thông tin bắt buộc, nhưng khuyến khích bạn đặt tên để dễ dàng nhận biết \u0026amp; tránh việc truy cập vào nhầm môi trường! Trong thật tế sẽ có nhiều Account được switch. Vd: FCJ_Invite_Acc\n  Tại mục color: hãy chọn màu mà bạn thích\n  Chọn Switch Role\n  Chúc mừng, bằng cách Switch Role - bạn di chuyển thành công qua member account đã được mời vào AWS Organizations\n  Đúc kết: Từ bước 1.1 đến bước 1.4, chúng ta đã thấy được management account sẽ là acc quản trị trong dịch vụ AWS Organization và các member account sẽ là các acc thành viên thường trực. Ngoài ra, để member account xuất hiện trong Organization, chúng ta có hai cách:\n Tạo acc mới bằng chức năng: Create an AWS account Thêm acc đã tồn tại bằng chức năng: Invite an existing AWS account  Bên cạnh đó, chúng ta có thể đứng từ management account để truy cập vào member account qua chức năng switch role và với mỗi cách trong 2 cách trên, chúng ta lại cần các điều kiện khác nhau để switch role thành công:\n  Với cách Create an AWS account, việc switch role sẽ khá là đơn giản vì trong lúc khởi tạo member account chúng ta đã cho phép AWS tự động thêm role name OrganizationAccountAccessRole với quyền AdministratorAccess. Ngoài ra, chúng ta cần cấp quyền assume role tương ứng với member account ID cho IAM User thuộc management account\n  Với cách Invite an existing AWS account, việc switch role sẽ khó khăn hơn! Chúng ta cần tạo role name OrganizationAccountAccessRole và gán quyền AdministratorAccess cho account ID của management account Ngoài ra, chúng ta cần cấp quyền assume role tương ứng với member account ID cho IAM User thuộc management account\n  Tuy nhiên, switch role không phải là cách duy nhất để truy cập vào các member acount. Tại các bước trong mục số 2, các bạn sẽ khám phá ra một cách truy cập khác thông qua việc thiết lập AWS SSO.\n"
},
{
	"uri": "/vi/4-clean-up/",
	"title": "Dọn dẹp tài nguyên",
	"tags": [],
	"description": "",
	"content": "Dọn dẹp tài nguyên  Truy cập vào AWS SSO Management Console Xóa Groups:  Chọn Groups, tick vào các group liên quan tới bài lab này, và chọn Delete groups. Tại prompt Delete groups, gõ DELETE vào ô, và chọn Delete groups   Xóa Users:  Chọn Users, tick vào các user liên quan tới bài lab này, và chọn Delete users. Tại prompt Delete users, gõ DELETE vào ô, và chọn Delete users   Xóa quyền truy cập tại các tài khoản AWS:  Chọn AWS Accounts và nhấp vào tên của một tài khoản AWS. Remove access với tất cả các quyền truy cập của tài khoản. Lặp lại với các tài khoản đang được gán quyền truy cập cần xóa.    Xóa các Permission Sets  Chọn AWS accounts, chọn tab Permission sets, và chọn các permission sets liên quan Nhấn Delete. Tại prompt, gõ tên của permission set vào ô trống và nhấn Delete.    ::: note Lưu ý: Hãy sao lưu các dữ liệu trong các tài khoản này nếu bạn cần chúng trong tương lai vì xóa tài khoản đồng nghĩa với việc mọi tài nguyên và dữ liệu thuộc tài khoản ấy sẽ bị xóa vĩnh viễn :::\nXóa các tài khoản AWS. Tuy nhiên, Bạn có thể giữ các tài khoản này cho các phần lab tiếp theo.  Để xóa một tài khoản AWS, bạn cần đăng nhập vào tài khoản bằng root user  Truy cập vào trang đăng nhập vào bảng điều khiển AWS tại https://console.aws.amazon.com/ Khi trang Sign in hiện lên, chọn đăng nhập bằng Root user và nhập email của tài khoản bạn muốn xóa. (Ví dụ: example+lab12Logging@amazon.com.vn) Vượt qua Security Check và chọn Forgot Password?  AWS sẽ gửi email xác nhận quên mật khẩu vào email được đăng ký (ví dụ: nếu email của bạn là example+lab12Logging@amazon.com.vn, thì email của AWS sẽ được gửi về example@amazon.com.vn). Bạn hãy đổi mật khẩu mới qua email đó và đăng nhập vào tài khoản AWS.   Sau khi đăng nhập bằng root user, chọn vào tên tài khoản ở góc trên bên phải, chọn My Account, cuộn xuống cuối trang để thấy mục Close Account. Tick hết vào các ô và chọn Close Account    ::: info Lưu ý: Khi bạn tạo mới một tài khoản AWS trong AWS Organization, AWS Organization đã tự động tạo một mật khẩu ngẫu nhiên cho root user của tài khoản ấy, và bạn không thể tiếp cận được với chúng. Do đó, bạn sẽ truy cập vào root user của tài khoản ấy bằng cách lấy lại mật khẩu đã quên (forgot password) :::\n"
},
{
	"uri": "/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]