<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.147.8">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Sử dụng Time-based access control :: AWS SINGLE SIGN-ON CHO ORGANIZATION</title>

    
    <link href="/css/nucleus.css?1759698897" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1759698897" rel="stylesheet">
    <link href="/css/hybrid.css?1759698897" rel="stylesheet">
    <link href="/css/featherlight.min.css?1759698897" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1759698897" rel="stylesheet">
    <link href="/css/auto-complete.css?1759698897" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1759698897" rel="stylesheet">
    <link href="/css/theme.css?1759698897" rel="stylesheet">
    <link href="/css/hugo-theme.css?1759698897" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1759698897" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1759698897"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/vi/3-using-time-based-access-control/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1759698897"></script>
<script type="text/javascript" src="/js/auto-complete.js?1759698897"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/\/vi";
    
</script>
<script type="text/javascript" src="/js/search.js?1759698897"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vi/1-prerequisite/" title="Các bước chuẩn bị" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-prerequisite/">
          <b>1. </b>Các bước chuẩn bị
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/1-prerequisite/1-create-aws-account/" title="Tạo AWS Account trong AWS Organizations" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-prerequisite/1-create-aws-account/">
          <b>1.1 </b>Tạo AWS Account trong AWS Organizations
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-prerequisite/2-configure-ou/" title="Điều kiện tiên quyết cho IAM Identity Center" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-prerequisite/2-configure-ou/">
          <b>1.2 </b>Điều kiện tiên quyết cho IAM Identity Center
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-prerequisite/3-invite-aws-account/" title="Tạo User và Groups trong IAM Identity Center" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-prerequisite/3-invite-aws-account/">
          <b>1.3 </b>Tạo User và Groups trong IAM Identity Center
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-prerequisite/4-switch-role/" title="Tạo Permission Sets" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-prerequisite/4-switch-role/">
          <b>1.4 </b>Tạo Permission Sets
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-prerequisite/5-provision-permission-sets/" title="Cung cấp Permission Sets" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-prerequisite/5-provision-permission-sets/">
          <b>1.5 </b>Cung cấp Permission Sets
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/1-prerequisite/6-test/" title="Kiểm tra quyền truy cập" class="dd-item 
        
        
        
        ">
      <a href="/vi/1-prerequisite/6-test/">
          <b> 1.6 </b>Kiểm tra quyền truy cập
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/2-aws-cli-access/" title="Truy cập AWS CLI" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-aws-cli-access/">
          <b> 2. </b>Truy cập AWS CLI
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/vi/2-aws-cli-access/2.1-manual/" title="Làm mới thông tin xác thực thủ công" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-aws-cli-access/2.1-manual/">
          <b> 2.1 </b>Làm mới thông tin xác thực thủ công
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vi/2-aws-cli-access/2.2-automatic/" title="Làm mới thông tin xác thực tự động" class="dd-item 
        
        
        
        ">
      <a href="/vi/2-aws-cli-access/2.2-automatic/">
          <b> 2.2 </b>Làm mới thông tin xác thực tự động
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/3-using-time-based-access-control/" title="Sử dụng Time-based access control" class="dd-item 
        
        active
        
        ">
      <a href="/vi/3-using-time-based-access-control/">
          <b> 3. </b>Sử dụng Time-based access control
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/4-using-customer-managed-policies/" title="Customer Managed Policies" class="dd-item 
        
        
        
        ">
      <a href="/vi/4-using-customer-managed-policies/">
          <b> 4. </b>Customer Managed Policies
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/%CC%805-iam-identity-center-identity-store-apis/" title="IAM Identity Center Identity Store APIs" class="dd-item 
        
        
        
        ">
      <a href="/vi/%CC%805-iam-identity-center-identity-store-apis/">
          <b> 5. </b>IAM Identity Center Identity Store APIs
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vi/6-clean-up/" title="Dọn dẹp tài nguyên" class="dd-item 
        
        
        
        ">
      <a href="/vi/6-clean-up/">
          <b> 6. </b>Dọn dẹp tài nguyên
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="http://awsstudygroup.com"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - Nhóm FB</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/3-using-time-based-access-control/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="//localhost:1313/vi/3-using-time-based-access-control/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7831772&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>26-04-2025</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
            <i> <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng </a> <br>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/vi/'>Sử dụng AWS IAM Identity Center để quản lý định danh mạnh mẽ</a> > Sử dụng Time-based access control
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Sử dụng Time-based access control
            </h1>
          

        



	<p>Có thể có những tình huống bạn muốn cung cấp quyền truy cập cho các người dùng hoặc nhóm cụ thể trong một khoảng thời gian nhất định, như cấp quyền cho Security Auditors trong thời gian kiểm toán hoặc cho các tư vấn viên trong thời gian dự án. Trong những tình huống này, bạn có thể sử dụng permission sets với inline policies có chứa điều kiện để cung cấp time-based access control. Trong module này, chúng ta sẽ xem xét trường hợp cung cấp quyền truy cập tạm thời vào AWS accounts cho Security Auditor. Để thực hiện yêu cầu này với time-based access control, bạn cần thực hiện các bước sau:</p>
<ol>
<li>Tạo Permission Set với quyền truy cập cần thiết cho Security Auditor dưới dạng inline policy với các điều kiện time-based access control</li>
<li>Tạo Group cho Security Auditors</li>
<li>Gán người dùng vào Group Security Auditors</li>
<li>Gán quyền truy cập vào AWS Account cho nhóm Security Auditors với permission set mới tạo</li>
</ol>
<h4 id="tạo-permission-set">Tạo Permission Set</h4>
<ol>
<li>
<p>Điều hướng đến IAM Identity Center Console</p>
</li>
<li>
<p>Chọn AWS Region được đề xuất bởi AWS Team nếu đây là một phần của AWS Event. Nếu bạn đang thực hiện điều này một mình, hãy chọn Region mà bạn dự định cấu hình quy tắc.</p>
</li>
<li>
<p>Nhấp vào Permission sets trong menu bên trái dưới mục Multi-account permissions và nhấp vào nút Create permission set.</p>
</li>
</ol>
<p><img src="/images/0003/1.png" alt="3.4.11"></p>
<ol start="4">
<li>Trong trang Select permission set type:
<ul>
<li>Chọn radio button Custom permission set và nhấp Next.</li>
</ul>
</li>
</ol>
<p><img src="/images/0003/2.png" alt="3.4.11"></p>
<ol start="5">
<li>Trong trang Specify policies:
<ul>
<li>Mở rộng phần Inline Policy, sau đó xóa các dấu ngoặc nhọn hiện có.</li>
<li>Sao chép và dán chính sách quyền sau vào vùng văn bản:</li>
<li>Nhấp Next</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;2012-10-17&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;Statement&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Action&#34;</span>: [
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;acm:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;acm:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:GetTrailStatus&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:ListTags&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:LookupEvents&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudwatch:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudwatch:ListTagsForResource&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:BatchGetAggregateResourceConfig&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:BatchGetResourceConfig&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:Deliver*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;detective:GetGraphIngestState&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;detective:ListGraphs&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;detective:ListMembers&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;ec2:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;ec2:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;guardduty:DescribePublishingDestination&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;guardduty:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;guardduty:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:GenerateCredentialReport&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:GenerateServiceLastAccessedDetails&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;inspector:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;kms:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;kms:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;kms:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;s3:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;s3:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;secretsmanager:DescribeSecret&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;secretsmanager:GetResourcePolicy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;secretsmanager:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;securityhub:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;securityhub:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;securityhub:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;trustedadvisor:Describe*&#34;</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Resource&#34;</span>: <span style="color:#e6db74">&#34;*&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Condition&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;DateGreaterThan&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;aws:CurrentTime&#34;</span>: <span style="color:#e6db74">&#34;2022-07-26T00:00:00Z&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;DateLessThan&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;aws:CurrentTime&#34;</span>: <span style="color:#e6db74">&#34;2022-07-27T23:59:59Z&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="/images/0003/3.png" alt="3.4.11">
6. Trong trang Specify permission set details:</p>
<ul>
<li>Cung cấp tên cho permission set, ví dụ: secAuditorTimeBased</li>
<li>Description: <strong>Time-based read-only permissons for auditors</strong></li>
<li>Để các trường còn lại [Session Duration, Relay state và Tags] ở mặc định và nhấp Next
<img src="/images/0003/5.png" alt="3.4.11"></li>
</ul>
<ol start="7">
<li>Trong trang Review and create:
<ul>
<li>Xem lại các chi tiết đã cung cấp trong các bước trước</li>
<li>Nhấp vào nút Create</li>
</ul>
</li>
<li>Thông báo màu xanh: Permission set “secAuditorTimeBased” đã được tạo thành công.
<img src="/images/0003/6.png" alt="3.4.11"></li>
</ol>
<h4 id="tạo-group">Tạo Group</h4>
<p>Hãy tạo Group mới có tên securityAuditors:</p>
<ol>
<li>Điều hướng đến IAM Identity Center Console</li>
<li>Chọn Groups dưới mục Workplace pool và nhấp Create Group.
<img src="/images/0003/7.png" alt="3.4.11"></li>
<li>Trong trang Create group:
<ul>
<li>Cung cấp Group Name là: securityAuditors</li>
<li>Cung cấp Description, ví dụ: The audit group has read-only access to information and can only monitor events.</li>
<li>Nhấp Create group
<img src="/images/0003/8.png" alt="3.4.11"></li>
</ul>
</li>
<li>Nhóm securityAuditors đã tạo thành công.
<img src="/images/0003/9.png" alt="3.4.11"></li>
</ol>
<h4 id="tạo-user-và-thêm-vào-group">Tạo user và thêm vào Group</h4>
<p>Đối với module này, chúng ta sẽ tạo một user mới: secAuditUser</p>
<ol>
<li>Điều hướng đến IAM Identity Center Console</li>
<li>Chọn Users dưới mục Workplace pool và nhấp Add User.
<img src="/images/0003/15.png" alt="3.4.11"></li>
<li>Trong trang Add User:
<ul>
<li>Cung cấp Username, ví dụ: secAuditUser</li>
<li>Đối với Password, chọn radio button Generate a one-time password that you can share with the user</li>
<li>Cung cấp Email Address, sử dụng định dạng <a href="mailto:email&#43;secaudit@domain.com">email+secaudit@domain.com</a></li>
<li>Xác nhận lại địa chỉ email đã cung cấp ở trường trước</li>
<li>Cung cấp First name là secAudit</li>
<li>Cung cấp Last name là user</li>
<li>Để Display name như đã nhập và nhấp Next
<img src="/images/0003/16.png" alt="3.4.11"></li>
</ul>
</li>
<li>Trong trang Add users to groups - optional:
<ul>
<li>Chọn Group SecurityAuditors và nhấp Next
<img src="/images/0003/17.png" alt="3.4.11"></li>
</ul>
</li>
<li>Trong trang Review and add user:
<ul>
<li>Xem lại thông tin đã cung cấp trong các bước trước và nhấp Add user
<img src="/images/0003/18.png" alt="3.4.11"></li>
</ul>
</li>
<li>Một cửa sổ pop-up sẽ xuất hiện với One-time password. Sao chép thông tin bằng nút Copy và lưu lại để sử dụng sau trong workshop.
<img src="/images/0003/19.png" alt="3.4.11"></li>
</ol>
<h4 id="gán-permission-set-cho-aws-account">Gán Permission set cho AWS Account</h4>
<ol>
<li>Điều hướng đến IAM Identity Center Console, chọn AWS accounts dưới mục Multi-account permissions</li>
<li>Chọn tài khoản mà bạn muốn người dùng có quyền truy cập.</li>
<li>Nhấp Assign users or groups.
<img src="/images/0003/10.png" alt="3.4.11"></li>
<li>Trong trang Assign users and Group to AccountName:
<ul>
<li>Chọn Groups, chọn securityAuditors và nhấp Next.
<img src="/images/0003/11.png" alt="3.4.11"></li>
</ul>
</li>
<li>Trong trang Select permission sets:
<ul>
<li>Dưới Permission sets, chọn secAuditorTimeBased và nhấp Next
<img src="/images/0003/12.png" alt="3.4.11"></li>
</ul>
</li>
<li>Trong trang Review and submit:
<ul>
<li>Xem lại thông tin và nhấp Submit
<img src="/images/0003/13.png" alt="3.4.11"></li>
</ul>
</li>
<li>IAM Identity Center sẽ liên kết User group với Permission set và gán nó cho AWS Account được chọn. Bạn sẽ thấy một trang với banner màu xanh lá.
<img src="/images/0003/014.png" alt="3.4.11"></li>
</ol>
<h4 id="xác-minh-quyền-truy-cập">Xác minh quyền truy cập</h4>
<blockquote>
<p><strong>Lưu ý</strong>:
Để có trải nghiệm tốt hơn, bạn nên thực hiện các bước xác minh sau trong chế độ duyệt web riêng tư hoặc trình duyệt web khác</p></blockquote>
<ol>
<li>
<p>Đăng nhập vào AWS access Portal bằng URL User portal đã lưu khi tạo secAuditUser</p>
</li>
<li>
<p>Cung cấp username cho người dùng đã tạo trước đó trong module này</p>
</li>
<li>
<p>Cung cấp mật khẩu một lần cho username</p>
</li>
<li>
<p>Đặt mật khẩu mới cho người dùng</p>
</li>
<li>
<p>Sau khi đăng nhập thành công, trên trang SSO portal, chọn liên kết Management console cho vai trò secAuditorTimeBased</p>
</li>
<li>
<p>Sau khi đăng nhập thành công vào Management Console, điều hướng đến trang EC2 console và xác nhận rằng bạn có thể liệt kê tất cả các instances bằng cách chọn Instances trong menu bên trái</p>
</li>
</ol>
<p>Để mô phỏng việc kiểm soát quyền truy cập cho Security Auditors, hãy cập nhật Permission set và cung cấp lại nó trong tài khoản của chúng ta. Chúng ta sẽ mô phỏng bằng cách chọn một khoảng thời gian trong quá khứ (2022-07-04).</p>
<ol>
<li>
<p>Điều hướng đến IAM Identity Center Console</p>
</li>
<li>
<p>Nhấp vào Permission sets trong menu bên trái và chọn permission set secAuditorTimeBased
<img src="/images/0003/027.png" alt="3.4.11"></p>
</li>
<li>
<p>từ màn hình “Select permission set type chọn Custom permission set, nhấn next.
<img src="/images/0003/28.png" alt="3.4.11"></p>
</li>
<li>
<p>Chỉnh sửa inline policy bằng cách nhấp vào nút Edit
<img src="/images/0003/29.png" alt="3.4.11"></p>
</li>
<li>
<p>Sao chép và thay thế chính sách quyền bằng đoạn mã dưới đây</p>
<p>Thay đổi duy nhất trong chính sách là giá trị ngày/giờ xảy ra trong quá khứ &ldquo;2022-07-04T00:00:00Z&rdquo; &ldquo;2022-07-04T23:59:59Z&rdquo;</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;2012-10-17&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;Statement&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Action&#34;</span>: [
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;acm:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;acm:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:GetTrailStatus&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:ListTags&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudtrail:LookupEvents&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudwatch:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;cloudwatch:ListTagsForResource&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:BatchGetAggregateResourceConfig&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:BatchGetResourceConfig&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:Deliver*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;config:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;detective:GetGraphIngestState&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;detective:ListGraphs&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;detective:ListMembers&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;ec2:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;ec2:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;guardduty:DescribePublishingDestination&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;guardduty:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;guardduty:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:GenerateCredentialReport&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:GenerateServiceLastAccessedDetails&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;iam:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;inspector:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;kms:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;kms:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;kms:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;s3:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;s3:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;secretsmanager:DescribeSecret&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;secretsmanager:GetResourcePolicy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;secretsmanager:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;securityhub:Describe*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;securityhub:Get*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;securityhub:List*&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;trustedadvisor:Describe*&#34;</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Resource&#34;</span>: <span style="color:#e6db74">&#34;*&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Condition&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;DateGreaterThan&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;aws:CurrentTime&#34;</span>: <span style="color:#e6db74">&#34;2022-07-04T00:00:00Z&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;DateLessThan&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;aws:CurrentTime&#34;</span>: <span style="color:#e6db74">&#34;2022-07-04T23:59:59Z&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol start="6">
<li>
<p>Lưu các thay đổi vào Permission set và việc này cung cấp lại permission set cho AWS Account</p>
</li>
<li>
<p>Đăng nhập lại vào AWS access portal bằng cách làm theo các bước và xác minh quyền truy cập vào EC2 instance. Bạn sẽ thấy rằng secAuditUser không còn quyền liệt kê các EC2 instances nữa.</p>
</li>
</ol>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/vi/2-aws-cli-access/2.2-automatic/" title="Làm mới thông tin xác thực tự động"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vi/4-using-customer-managed-policies/" title="Customer Managed Policies" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1759698897"></script>
    <script src="/js/perfect-scrollbar.min.js?1759698897"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1759698897"></script>
    <script src="/js/jquery.sticky.js?1759698897"></script>
    <script src="/js/featherlight.min.js?1759698897"></script>
    <script src="/js/highlight.pack.js?1759698897"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1759698897"></script>
    <script src="/js/learn.js?1759698897"></script>
    <script src="/js/hugo-learn.js?1759698897"></script>

    <link href="/mermaid/mermaid.css?1759698897" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1759698897"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
